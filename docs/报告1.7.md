# 南锣鼓巷旅游导览系统 - 项目报告（三）

## 一、简要用户手册

### 1.1 系统概述

南锣鼓巷旅游导览系统是一款为游客提供北京南锣鼓巷景区导览服务的应用，包含Web网页版和微信小程序版，帮助游客了解胡同历史、浏览景点信息、规划游览路线。

### 1.2 系统架构图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          系统整体架构                                        │
└─────────────────────────────────────────────────────────────────────────────┘

     ┌─────────────────┐              ┌─────────────────┐
     │   Web浏览器      │              │   微信小程序     │
     │  (Vue3前端)      │              │                 │
     └────────┬────────┘              └────────┬────────┘
              │                                │
              │  HTTP请求                      │  HTTP请求
              │                                │
              └───────────────┬────────────────┘
                              │
                              ▼
                    ┌─────────────────┐
                    │   Django后端    │
                    │   REST API      │
                    │  :8000端口      │
                    └────────┬────────┘
                             │
                             ▼
                    ┌─────────────────┐
                    │   SQLite数据库   │
                    │   db.sqlite3    │
                    └─────────────────┘
```

### 1.3 功能模块导航图

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          功能模块导航                                        │
└─────────────────────────────────────────────────────────────────────────────┘

                           ┌─────────────┐
                           │   系统首页   │
                           └──────┬──────┘
                                  │
            ┌─────────────────────┼─────────────────────┐
            │                     │                     │
            ▼                     ▼                     ▼
     ┌─────────────┐       ┌─────────────┐       ┌─────────────┐
     │  胡同概览    │       │  景点浏览    │       │  推荐路线    │
     │             │       │             │       │             │
     │ · 历史介绍  │       │ · 景点列表  │       │ · 路线列表  │
     │ · 地理位置  │       │ · 搜索功能  │       │ · 路线详情  │
     │ · 特色简介  │       │ · 景点详情  │       │ · 景点顺序  │
     └─────────────┘       └──────┬──────┘       └─────────────┘
                                  │
                                  ▼
                           ┌─────────────┐
                           │  景点详情    │
                           │             │
                           │ · 图片展示  │
                           │ · 详细介绍  │
                           │ · 开放时间  │
                           │ · 游览提示  │
                           └─────────────┘
```


### 1.4 Web端使用指南

#### 1.4.1 访问方式

| 项目 | 说明 |
|------|------|
| 访问地址 | http://127.0.0.1:3000 |
| 推荐浏览器 | Chrome、Edge、Firefox |
| 分辨率要求 | 支持响应式，推荐1280×720以上 |

#### 1.4.2 首页操作

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                           Web首页界面                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  🏮 南锣鼓巷旅游导览        [首页]  [景点]  [路线]    ← 导航栏        │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ╔═══════════════════════════════════════════════════════════════════════╗  │
│  ║                                                                       ║  │
│  ║                    🏮 南锣鼓巷                                        ║  │
│  ║                                                                       ║  │
│  ║     南锣鼓巷是北京最古老的街区之一，位于北京市东城区...               ║  │
│  ║                                                                       ║  │
│  ║     📍 北京市东城区                                                   ║  │
│  ║     📏 全长787米                                                      ║  │
│  ║                                                                       ║  │
│  ╚═══════════════════════════════════════════════════════════════════════╝  │
│                                                                             │
│       ┌─────────────┐              ┌─────────────┐                          │
│       │  🏠 景点列表 │              │  🗺️ 推荐路线 │    ← 快捷入口          │
│       │   点击进入   │              │   点击进入   │                          │
│       └─────────────┘              └─────────────┘                          │
│                                                                             │
│  操作说明：                                                                 │
│  ① 点击导航栏菜单可切换页面                                                │
│  ② 点击快捷入口卡片可直接进入对应功能                                      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 1.4.3 景点列表操作

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          景点列表界面                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                         🏠 景点列表                                         │
│                                                                             │
│              ┌─────────────────────────────────┐                            │
│         ①   │  搜索景点...              🔍    │   ← 搜索框                 │
│              └─────────────────────────────────┘                            │
│                                                                             │
│  ┌─────────────────────┐  ┌─────────────────────┐  ┌─────────────────────┐  │
│  │  ┌───────────────┐  │  │  ┌───────────────┐  │  │  ┌───────────────┐  │  │
│  │  │    景点图片    │  │  │  │    景点图片    │  │  │  │    景点图片    │  │  │
│  │  └───────────────┘  │  │  └───────────────┘  │  │  └───────────────┘  │  │
│  │  茅盾故居           │  │  齐白石旧居纪念馆   │  │  僧格林沁王府       │  │
│  │  [名人故居]    ②   │  │  [名人故居]         │  │  [历史建筑]         │  │
│  │  简短描述...        │  │  简短描述...        │  │  简短描述...        │  │
│  └─────────────────────┘  └─────────────────────┘  └─────────────────────┘  │
│         ③                                                                   │
│                                                                             │
│  操作说明：                                                                 │
│  ① 在搜索框输入关键词，按回车或点击🔍搜索                                  │
│  ② 景点类型标签，不同类型显示不同颜色                                      │
│  ③ 点击任意景点卡片进入详情页                                              │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```


#### 1.4.4 景点详情操作

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          景点详情界面                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  ← 返回列表                                          ← ① 返回按钮   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  ╔═══════════════════════════════════════════════════════════════════════╗  │
│  ║                                                                       ║  │
│  ║                    ◀  图片轮播区域  ▶                                 ║  │
│  ║                                                                       ║  │
│  ║                       [  ●  ○  ○  ]                  ← ② 轮播指示器  ║  │
│  ╚═══════════════════════════════════════════════════════════════════════╝  │
│                                                                             │
│    茅盾故居                                    [名人故居]   ← ③ 类型标签    │
│    📍 后圆恩寺胡同13号                                     ← ④ 位置信息    │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  ⏰ 开放时间                                            ← ⑤ 信息卡片  │  │
│  │  9:00-16:30                                                           │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  💡 游览提示                                                          │  │
│  │  周一闭馆，免费参观需提前预约                                         │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  📖 详细介绍                                            ← ⑥ 详细描述  │  │
│  │  茅盾故居位于后圆恩寺胡同13号，是中国现代著名作家茅盾晚年居住和工作   │  │
│  │  的地方。这是一座典型的北京四合院，占地面积约800平方米...             │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  操作说明：                                                                 │
│  ① 点击返回按钮回到景点列表                                                │
│  ② 图片可左右滑动或点击指示器切换                                          │
│  ③④⑤⑥ 展示景点完整信息                                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 1.4.5 推荐路线操作

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          推荐路线界面                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                         🗺️ 推荐路线                                         │
│                                                                             │
│  ╔═══════════════════════════════════════════════════════════════════════╗  │
│  ║  经典文化游                                                           ║  │
│  ║  探访名人故居，感受深厚的文化底蕴                                     ║  │
│  ║  ⏱️ 约2小时    📏 约1.5公里    📍 4个景点                             ║  │
│  ║                                                                       ║  │
│  ║                                    [ 查看详情 ▼ ]   ← ① 展开按钮      ║  │
│  ╚═══════════════════════════════════════════════════════════════════════╝  │
│                                                                             │
│  ┌───────────────────────────────────────────────────────────────────────┐  │
│  │  路线景点                                               ← ② 展开内容  │  │
│  │                                                                       │  │
│  │      ●─── 第1站 ─────────────────────────────────────                 │  │
│  │      │    茅盾故居  [名人故居]                         ← ③ 可点击     │  │
│  │      │    中国现代著名作家茅盾晚年居住地                              │  │
│  │      │                                                                │  │
│  │      ●─── 第2站 ─────────────────────────────────────                 │  │
│  │      │    齐白石旧居纪念馆  [名人故居]                                │  │
│  │      │    国画大师齐白石曾在此居住创作                                │  │
│  │      │                                                                │  │
│  │      ●─── 第3站 ─────────────────────────────────────                 │  │
│  │           ...                                                         │  │
│  └───────────────────────────────────────────────────────────────────────┘  │
│                                                                             │
│  操作说明：                                                                 │
│  ① 点击"查看详情"展开/收起路线景点列表                                    │
│  ② 展开后显示时间线形式的景点顺序                                          │
│  ③ 点击任意景点可跳转到该景点详情页                                        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```


### 1.5 微信小程序使用指南

#### 1.5.1 访问方式

| 项目 | 说明 |
|------|------|
| 开发工具 | 微信开发者工具 |
| 项目路径 | miniprogram/ |
| 后端配置 | 需修改app.js中的BASE_URL |

#### 1.5.2 小程序界面导航

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        小程序TabBar导航                                      │
└─────────────────────────────────────────────────────────────────────────────┘

  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
  │             │    │             │    │             │    │             │
  │    首页     │    │   景点      │    │   路线      │    │   我的      │
  │             │    │             │    │             │    │             │
  │   index     │    │   pois      │    │   routes    │    │   (预留)    │
  │             │    │             │    │             │    │             │
  └─────────────┘    └─────────────┘    └─────────────┘    └─────────────┘
        │                  │                  │
        ▼                  ▼                  ▼
  ┌─────────────┐    ┌─────────────┐    ┌─────────────┐
  │ 胡同介绍    │    │ 景点列表    │    │ 路线列表    │
  │ 功能入口    │    │ 搜索功能    │    │ 展开详情    │
  └─────────────┘    └──────┬──────┘    └─────────────┘
                           │
                           ▼
                    ┌─────────────┐
                    │ 景点详情页  │
                    │ poi-detail  │
                    └─────────────┘
```

#### 1.5.3 小程序首页

```
┌───────────────────────────────────┐
│         小程序首页界面            │
├───────────────────────────────────┤
│                                   │
│  ╔═══════════════════════════╗    │
│  ║                           ║    │
│  ║    🏮 南锣鼓巷            ║    │
│  ║                           ║    │
│  ║    北京最古老的街区之一   ║    │
│  ║    位于北京市东城区...    ║    │
│  ║                           ║    │
│  ║    📍 北京市东城区        ║    │
│  ║    📏 全长787米           ║    │
│  ║                           ║    │
│  ╚═══════════════════════════╝    │
│                                   │
│  ┌───────────┐  ┌───────────┐     │
│  │ 🏠 景点   │  │ 🗺️ 路线   │     │
│  │   浏览    │  │   推荐    │     │
│  └───────────┘  └───────────┘     │
│                                   │
├───────────────────────────────────┤
│  [首页]  [景点]  [路线]  [我的]   │
└───────────────────────────────────┘

操作：点击功能入口或底部TabBar切换页面
```

#### 1.5.4 小程序景点页

```
┌───────────────────────────────────┐
│         小程序景点列表            │
├───────────────────────────────────┤
│                                   │
│  ┌─────────────────────────────┐  │
│  │  🔍 搜索景点...             │  │
│  └─────────────────────────────┘  │
│                                   │
│  ┌─────────────────────────────┐  │
│  │ ┌─────┐                     │  │
│  │ │ 图片│ 茅盾故居            │  │
│  │ └─────┘ [名人故居]          │  │
│  │         简短描述...     >   │  │
│  └─────────────────────────────┘  │
│                                   │
│  ┌─────────────────────────────┐  │
│  │ ┌─────┐                     │  │
│  │ │ 图片│ 齐白石旧居纪念馆    │  │
│  │ └─────┘ [名人故居]          │  │
│  │         简短描述...     >   │  │
│  └─────────────────────────────┘  │
│                                   │
│  ┌─────────────────────────────┐  │
│  │ ┌─────┐                     │  │
│  │ │ 图片│ 僧格林沁王府        │  │
│  │ └─────┘ [历史建筑]          │  │
│  │         简短描述...     >   │  │
│  └─────────────────────────────┘  │
│                                   │
├───────────────────────────────────┤
│  [首页]  [景点]  [路线]  [我的]   │
└───────────────────────────────────┘

操作：
① 输入关键词搜索景点
② 点击景点卡片进入详情
```


#### 1.5.5 小程序景点详情

```
┌───────────────────────────────────┐
│         小程序景点详情            │
├───────────────────────────────────┤
│  ◀ 返回                          │
├───────────────────────────────────┤
│                                   │
│  ╔═══════════════════════════╗    │
│  ║                           ║    │
│  ║      景点图片轮播         ║    │
│  ║                           ║    │
│  ║      [  ●  ○  ○  ]        ║    │
│  ╚═══════════════════════════╝    │
│                                   │
│  茅盾故居              [名人故居] │
│  📍 后圆恩寺胡同13号              │
│                                   │
│  ┌─────────────────────────────┐  │
│  │ ⏰ 开放时间                 │  │
│  │ 9:00-16:30                  │  │
│  └─────────────────────────────┘  │
│                                   │
│  ┌─────────────────────────────┐  │
│  │ 💡 游览提示                 │  │
│  │ 周一闭馆，需提前预约        │  │
│  └─────────────────────────────┘  │
│                                   │
│  ┌─────────────────────────────┐  │
│  │ 📖 详细介绍                 │  │
│  │ 茅盾故居位于后圆恩寺胡同    │  │
│  │ 13号，是中国现代著名作家    │  │
│  │ 茅盾晚年居住和工作的地方... │  │
│  └─────────────────────────────┘  │
│                                   │
└───────────────────────────────────┘

操作：
① 点击图片可预览大图
② 左右滑动切换图片
③ 点击返回回到列表
```

#### 1.5.6 小程序路线页

```
┌───────────────────────────────────┐
│         小程序路线列表            │
├───────────────────────────────────┤
│                                   │
│         🗺️ 推荐路线               │
│                                   │
│  ╔═══════════════════════════╗    │
│  ║ 经典文化游                ║    │
│  ║ 探访名人故居，感受文化... ║    │
│  ║ ⏱️2小时 📏1.5km 📍4景点   ║    │
│  ║                           ║    │
│  ║         [展开详情 ▼]      ║    │
│  ╚═══════════════════════════╝    │
│                                   │
│  ┌─────────────────────────────┐  │
│  │ 路线景点：                  │  │
│  │                             │  │
│  │ ① 茅盾故居 [名人故居]      │  │
│  │    中国现代著名作家...      │  │
│  │                             │  │
│  │ ② 齐白石旧居 [名人故居]    │  │
│  │    国画大师齐白石...        │  │
│  │                             │  │
│  │ ③ 僧格林沁王府 [历史建筑]  │  │
│  │    清代蒙古亲王...          │  │
│  │                             │  │
│  │ ④ 万庆当铺 [历史建筑]      │  │
│  │    清末民初著名当铺...      │  │
│  └─────────────────────────────┘  │
│                                   │
│  ╔═══════════════════════════╗    │
│  ║ 休闲美食游                ║    │
│  ║ 品尝特色小吃，逛文创...   ║    │
│  ║ ⏱️1.5小时 📏1km 📍4景点   ║    │
│  ║         [展开详情 ▼]      ║    │
│  ╚═══════════════════════════╝    │
│                                   │
├───────────────────────────────────┤
│  [首页]  [景点]  [路线]  [我的]   │
└───────────────────────────────────┘

操作：
① 点击"展开详情"查看路线景点
② 再次点击收起详情
③ 点击景点可跳转详情页
```


### 1.6 管理员操作指南

#### 1.6.1 后台管理入口

| 项目 | 说明 |
|------|------|
| 访问地址 | http://127.0.0.1:8000/admin/ |
| 默认账号 | admin |
| 默认密码 | admin123 |

#### 1.6.2 后台管理界面

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                        Django Admin 后台管理                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  Django 管理                                          欢迎, admin  [登出]   │
│                                                                             │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  TOURISM                                                                    │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  胡同信息 (Hutongs)                                    [+ 添加]     │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  管理胡同基本信息、历史介绍、地理位置等                             │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  景点信息 (POIs)                                       [+ 添加]     │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  管理景点名称、类型、描述、图片、开放时间等                         │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  推荐路线 (Routes)                                     [+ 添加]     │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  管理路线名称、描述、时长、距离等                                   │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────────────┐    │
│  │  路线景点关联 (RoutePOIs)                              [+ 添加]     │    │
│  │  ─────────────────────────────────────────────────────────────────  │    │
│  │  管理路线与景点的关联关系及顺序                                     │    │
│  └─────────────────────────────────────────────────────────────────────┘    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 1.6.3 数据管理操作

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          数据管理操作流程                                    │
└─────────────────────────────────────────────────────────────────────────────┘

  添加景点流程：
  ─────────────────────────────────────────────────────────────────────────────

       ┌─────────────┐      ┌─────────────┐      ┌─────────────┐
       │ 点击POIs    │ ──▶  │ 点击+添加   │ ──▶  │ 填写表单    │
       │ 管理入口    │      │ 按钮        │      │             │
       └─────────────┘      └─────────────┘      └──────┬──────┘
                                                        │
                                                        ▼
                                                 ┌─────────────┐
                                                 │ 点击保存    │
                                                 └─────────────┘

  必填字段：
  · name (名称)
  · type (类型：celebrity/historic/food/shop/culture)
  · description (详细描述，≥100字)
  · brief (简短描述)
  · location (位置)

  添加路线流程：
  ─────────────────────────────────────────────────────────────────────────────

       ┌─────────────┐      ┌─────────────┐      ┌─────────────┐
       │ 创建Route   │ ──▶  │ 创建        │ ──▶  │ 设置order   │
       │ 路线信息    │      │ RoutePOI    │      │ 景点顺序    │
       └─────────────┘      │ 关联景点    │      └─────────────┘
                            └─────────────┘
```


### 1.7 常见问题解答

| 问题 | 解决方案 |
|------|----------|
| 前端页面显示空白 | 检查后端服务是否启动，确认API地址配置正确 |
| 搜索无结果 | 尝试使用更短的关键词，系统支持模糊匹配 |
| 图片无法显示 | 检查图片URL是否正确，确认后端静态文件配置 |
| 小程序无法获取数据 | 检查app.js中BASE_URL配置，确认后端CORS设置 |
| 后台登录失败 | 确认账号密码正确，或重新创建超级用户 |

---

## 二、测试报告

### 2.1 测试概述

#### 2.1.1 测试目的

验证南锣鼓巷旅游导览系统的功能完整性、数据准确性和用户体验，确保系统满足设计要求。

#### 2.1.2 测试范围

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            测试范围覆盖图                                    │
└─────────────────────────────────────────────────────────────────────────────┘

                           ┌─────────────────┐
                           │    测试范围     │
                           └────────┬────────┘
                                    │
          ┌─────────────────────────┼─────────────────────────┐
          │                         │                         │
          ▼                         ▼                         ▼
   ┌─────────────┐          ┌─────────────┐          ┌─────────────┐
   │  后端测试    │          │  前端测试    │          │  小程序测试  │
   └──────┬──────┘          └──────┬──────┘          └──────┬──────┘
          │                        │                        │
    ┌─────┴─────┐            ┌─────┴─────┐            ┌─────┴─────┐
    │           │            │           │            │           │
    ▼           ▼            ▼           ▼            ▼           ▼
┌───────┐ ┌───────┐    ┌───────┐ ┌───────┐    ┌───────┐ ┌───────┐
│API接口│ │数据库 │    │页面   │ │交互   │    │页面   │ │API    │
│测试   │ │测试   │    │渲染   │ │功能   │    │功能   │ │调用   │
└───────┘ └───────┘    └───────┘ └───────┘    └───────┘ └───────┘
```

#### 2.1.3 测试环境

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            测试环境配置                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  硬件环境                                                                   │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · 操作系统：Windows 10/11                                                  │
│  · 处理器：Intel Core i5 及以上                                             │
│  · 内存：8GB 及以上                                                         │
│  · 硬盘：SSD 256GB 及以上                                                   │
│                                                                             │
│  软件环境                                                                   │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · Python：3.x                                                              │
│  · Node.js：16.20.2                                                         │
│  · Django：4.2                                                              │
│  · Vue：3.x                                                                 │
│  · Vite：4.x                                                                │
│  · 数据库：SQLite 3                                                         │
│                                                                             │
│  测试工具                                                                   │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · 浏览器：Chrome 120+、Edge 120+                                           │
│  · API测试：浏览器直接访问、Postman                                         │
│  · 小程序：微信开发者工具                                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```


### 2.2 测试用例

#### 2.2.1 后端API测试用例

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          后端API测试用例表                                   │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  编号    接口地址              测试内容              预期结果               │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  TC-API-001                                                                 │
│  接口：GET /api/hutong/                                                     │
│  描述：获取胡同基本信息                                                     │
│  预期：返回200，包含name、description、location字段                         │
│                                                                             │
│  TC-API-002                                                                 │
│  接口：GET /api/pois/                                                       │
│  描述：获取景点列表                                                         │
│  预期：返回200，包含count和results数组                                      │
│                                                                             │
│  TC-API-003                                                                 │
│  接口：GET /api/pois/1/                                                     │
│  描述：获取单个景点详情                                                     │
│  预期：返回200，包含完整景点信息（含description≥100字）                     │
│                                                                             │
│  TC-API-004                                                                 │
│  接口：GET /api/pois/9999/                                                  │
│  描述：获取不存在的景点                                                     │
│  预期：返回404错误                                                          │
│                                                                             │
│  TC-API-005                                                                 │
│  接口：GET /api/routes/                                                     │
│  描述：获取路线列表                                                         │
│  预期：返回200，包含count和results数组                                      │
│                                                                             │
│  TC-API-006                                                                 │
│  接口：GET /api/routes/1/                                                   │
│  描述：获取路线详情                                                         │
│  预期：返回200，包含pois数组（按order排序）                                 │
│                                                                             │
│  TC-API-007                                                                 │
│  接口：GET /api/search/?q=故居                                              │
│  描述：搜索包含"故居"的景点                                                 │
│  预期：返回200，results包含匹配的景点                                       │
│                                                                             │
│  TC-API-008                                                                 │
│  接口：GET /api/search/?q=                                                  │
│  描述：空关键词搜索                                                         │
│  预期：返回200，count为0，包含提示信息                                      │
│                                                                             │
│  TC-API-009                                                                 │
│  接口：GET /api/search/?q=不存在的内容xyz                                   │
│  描述：搜索无匹配结果                                                       │
│  预期：返回200，count为0，results为空数组                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 2.2.2 前端功能测试用例

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          前端功能测试用例表                                  │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  编号         功能模块      测试步骤                    预期结果            │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  TC-FE-001    首页          访问http://127.0.0.1:3000   显示胡同信息        │
│                                                                             │
│  TC-FE-002    首页          点击"景点列表"入口          跳转到/pois页面     │
│                                                                             │
│  TC-FE-003    首页          点击"推荐路线"入口          跳转到/routes页面   │
│                                                                             │
│  TC-FE-004    导航栏        点击"首页"菜单              跳转到首页          │
│                                                                             │
│  TC-FE-005    导航栏        点击"景点"菜单              跳转到景点列表      │
│                                                                             │
│  TC-FE-006    导航栏        点击"路线"菜单              跳转到路线页面      │
│                                                                             │
│  TC-FE-007    景点列表      页面加载                    显示所有景点卡片    │
│                                                                             │
│  TC-FE-008    景点列表      输入"故居"并搜索            显示匹配的景点      │
│                                                                             │
│  TC-FE-009    景点列表      清空搜索框                  恢复显示全部景点    │
│                                                                             │
│  TC-FE-010    景点列表      点击景点卡片                跳转到详情页        │
│                                                                             │
│  TC-FE-011    景点详情      页面加载                    显示完整景点信息    │
│                                                                             │
│  TC-FE-012    景点详情      图片轮播                    可左右切换图片      │
│                                                                             │
│  TC-FE-013    景点详情      点击返回按钮                返回景点列表        │
│                                                                             │
│  TC-FE-014    路线页面      页面加载                    显示路线卡片列表    │
│                                                                             │
│  TC-FE-015    路线页面      点击"查看详情"              展开显示景点列表    │
│                                                                             │
│  TC-FE-016    路线页面      再次点击"查看详情"          收起景点列表        │
│                                                                             │
│  TC-FE-017    路线页面      点击路线中的景点            跳转到景点详情      │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```


#### 2.2.3 小程序功能测试用例

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          小程序功能测试用例表                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  编号         功能模块      测试步骤                    预期结果            │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  TC-MP-001    首页          启动小程序                  显示胡同信息        │
│                                                                             │
│  TC-MP-002    首页          点击"景点浏览"              跳转到景点页        │
│                                                                             │
│  TC-MP-003    首页          点击"路线推荐"              跳转到路线页        │
│                                                                             │
│  TC-MP-004    TabBar        点击"景点"Tab               切换到景点页        │
│                                                                             │
│  TC-MP-005    TabBar        点击"路线"Tab               切换到路线页        │
│                                                                             │
│  TC-MP-006    TabBar        点击"首页"Tab               切换到首页          │
│                                                                             │
│  TC-MP-007    景点列表      页面加载                    显示景点列表        │
│                                                                             │
│  TC-MP-008    景点列表      输入关键词搜索              显示匹配结果        │
│                                                                             │
│  TC-MP-009    景点列表      点击景点卡片                跳转到详情页        │
│                                                                             │
│  TC-MP-010    景点详情      页面加载                    显示完整信息        │
│                                                                             │
│  TC-MP-011    景点详情      点击图片                    预览大图            │
│                                                                             │
│  TC-MP-012    景点详情      左右滑动图片                切换图片            │
│                                                                             │
│  TC-MP-013    景点详情      点击返回                    返回列表页          │
│                                                                             │
│  TC-MP-014    路线页面      页面加载                    显示路线列表        │
│                                                                             │
│  TC-MP-015    路线页面      点击展开详情                显示景点列表        │
│                                                                             │
│  TC-MP-016    路线页面      点击收起详情                隐藏景点列表        │
│                                                                             │
│  TC-MP-017    路线页面      点击路线中景点              跳转景点详情        │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

### 2.3 测试执行结果

#### 2.3.1 后端API测试结果

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          后端API测试执行结果                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  测试编号      测试内容                    实际结果          状态           │
│  ─────────────────────────────────────────────────────────────────────────  │
│  TC-API-001    获取胡同信息                正确返回数据      ✓ PASS         │
│  TC-API-002    获取景点列表                返回10条数据      ✓ PASS         │
│  TC-API-003    获取景点详情                返回完整信息      ✓ PASS         │
│  TC-API-004    获取不存在景点              返回404           ✓ PASS         │
│  TC-API-005    获取路线列表                返回2条路线       ✓ PASS         │
│  TC-API-006    获取路线详情                返回含景点列表    ✓ PASS         │
│  TC-API-007    搜索"故居"                  返回3条匹配       ✓ PASS         │
│  TC-API-008    空关键词搜索                返回提示信息      ✓ PASS         │
│  TC-API-009    搜索无结果                  返回空列表        ✓ PASS         │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  通过: 9    失败: 0    跳过: 0    通过率: 100%                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```


#### 2.3.2 前端功能测试结果

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          前端功能测试执行结果                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  测试编号      测试内容                    实际结果          状态           │
│  ─────────────────────────────────────────────────────────────────────────  │
│  TC-FE-001     首页加载                    正确显示          ✓ PASS         │
│  TC-FE-002     景点入口跳转                正确跳转          ✓ PASS         │
│  TC-FE-003     路线入口跳转                正确跳转          ✓ PASS         │
│  TC-FE-004     导航-首页                   正确跳转          ✓ PASS         │
│  TC-FE-005     导航-景点                   正确跳转          ✓ PASS         │
│  TC-FE-006     导航-路线                   正确跳转          ✓ PASS         │
│  TC-FE-007     景点列表加载                显示10个景点      ✓ PASS         │
│  TC-FE-008     搜索功能                    正确过滤          ✓ PASS         │
│  TC-FE-009     清空搜索                    恢复全部          ✓ PASS         │
│  TC-FE-010     景点卡片点击                正确跳转          ✓ PASS         │
│  TC-FE-011     详情页加载                  显示完整信息      ✓ PASS         │
│  TC-FE-012     图片轮播                    正常切换          ✓ PASS         │
│  TC-FE-013     返回按钮                    正确返回          ✓ PASS         │
│  TC-FE-014     路线列表加载                显示2条路线       ✓ PASS         │
│  TC-FE-015     展开路线详情                正确展开          ✓ PASS         │
│  TC-FE-016     收起路线详情                正确收起          ✓ PASS         │
│  TC-FE-017     路线景点点击                正确跳转          ✓ PASS         │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  通过: 17   失败: 0    跳过: 0    通过率: 100%                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 2.3.3 小程序功能测试结果

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                          小程序功能测试执行结果                              │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  测试编号      测试内容                    实际结果          状态           │
│  ─────────────────────────────────────────────────────────────────────────  │
│  TC-MP-001     首页加载                    正确显示          ✓ PASS         │
│  TC-MP-002     景点入口跳转                正确跳转          ✓ PASS         │
│  TC-MP-003     路线入口跳转                正确跳转          ✓ PASS         │
│  TC-MP-004     TabBar-景点                 正确切换          ✓ PASS         │
│  TC-MP-005     TabBar-路线                 正确切换          ✓ PASS         │
│  TC-MP-006     TabBar-首页                 正确切换          ✓ PASS         │
│  TC-MP-007     景点列表加载                显示景点列表      ✓ PASS         │
│  TC-MP-008     搜索功能                    正确过滤          ✓ PASS         │
│  TC-MP-009     景点卡片点击                正确跳转          ✓ PASS         │
│  TC-MP-010     详情页加载                  显示完整信息      ✓ PASS         │
│  TC-MP-011     图片预览                    正常预览          ✓ PASS         │
│  TC-MP-012     图片滑动                    正常切换          ✓ PASS         │
│  TC-MP-013     返回操作                    正确返回          ✓ PASS         │
│  TC-MP-014     路线列表加载                显示路线列表      ✓ PASS         │
│  TC-MP-015     展开路线详情                正确展开          ✓ PASS         │
│  TC-MP-016     收起路线详情                正确收起          ✓ PASS         │
│  TC-MP-017     路线景点点击                正确跳转          ✓ PASS         │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  通过: 17   失败: 0    跳过: 0    通过率: 100%                               │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```


### 2.4 测试统计与分析

#### 2.4.1 测试统计汇总

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            测试统计汇总表                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│                    ┌─────────────────────────────────────┐                  │
│                    │         测试用例统计                │                  │
│                    ├─────────────────────────────────────┤                  │
│                    │                                     │                  │
│                    │   测试类型        用例数   通过数   │                  │
│                    │   ─────────────────────────────     │                  │
│                    │   后端API测试        9        9     │                  │
│                    │   前端功能测试      17       17     │                  │
│                    │   小程序功能测试    17       17     │                  │
│                    │   ─────────────────────────────     │                  │
│                    │   总计             43       43     │                  │
│                    │                                     │                  │
│                    └─────────────────────────────────────┘                  │
│                                                                             │
│                                                                             │
│                    ┌─────────────────────────────────────┐                  │
│                    │         测试通过率                  │                  │
│                    ├─────────────────────────────────────┤                  │
│                    │                                     │                  │
│                    │   ████████████████████████  100%    │                  │
│                    │                                     │                  │
│                    │   通过: 43  失败: 0  跳过: 0        │                  │
│                    │                                     │                  │
│                    └─────────────────────────────────────┘                  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 2.4.2 功能覆盖分析

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            功能覆盖分析图                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  功能模块                测试覆盖                              覆盖率       │
│  ─────────────────────────────────────────────────────────────────────────  │
│                                                                             │
│  胡同概览                ████████████████████████████████████   100%        │
│                          · 信息展示 ✓                                       │
│                          · 数据加载 ✓                                       │
│                                                                             │
│  景点列表                ████████████████████████████████████   100%        │
│                          · 列表展示 ✓                                       │
│                          · 搜索功能 ✓                                       │
│                          · 卡片点击 ✓                                       │
│                                                                             │
│  景点详情                ████████████████████████████████████   100%        │
│                          · 信息展示 ✓                                       │
│                          · 图片轮播 ✓                                       │
│                          · 返回功能 ✓                                       │
│                                                                             │
│  推荐路线                ████████████████████████████████████   100%        │
│                          · 列表展示 ✓                                       │
│                          · 展开收起 ✓                                       │
│                          · 景点跳转 ✓                                       │
│                                                                             │
│  搜索功能                ████████████████████████████████████   100%        │
│                          · 关键词搜索 ✓                                     │
│                          · 空搜索处理 ✓                                     │
│                          · 无结果提示 ✓                                     │
│                                                                             │
│  API接口                 ████████████████████████████████████   100%        │
│                          · 胡同接口 ✓                                       │
│                          · POI接口 ✓                                        │
│                          · 路线接口 ✓                                       │
│                          · 搜索接口 ✓                                       │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```


### 2.5 测试结论

#### 2.5.1 测试总结

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                            测试总结报告                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  1. 测试完成情况                                                            │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · 共执行测试用例 43 个                                                     │
│  · 全部测试用例通过，通过率 100%                                            │
│  · 覆盖后端API、Web前端、微信小程序三个端                                   │
│                                                                             │
│  2. 功能验证结果                                                            │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · 胡同概览模块：信息展示完整，数据加载正常                                 │
│  · 景点浏览模块：列表展示正确，搜索功能有效                                 │
│  · 景点详情模块：信息完整，图片轮播正常                                     │
│  · 推荐路线模块：路线展示正确，景点顺序准确                                 │
│  · 搜索功能：支持中文模糊匹配，响应及时                                     │
│                                                                             │
│  3. 数据验证结果                                                            │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · 胡同信息：1条，内容完整                                                  │
│  · 景点数据：10条，每条描述≥100字                                           │
│  · 推荐路线：2条，每条包含4个景点                                           │
│  · 数据关联：路线与景点关联正确                                             │
│                                                                             │
│  4. 兼容性验证                                                              │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · Chrome浏览器：正常                                                       │
│  · Edge浏览器：正常                                                         │
│  · 微信开发者工具：正常                                                     │
│  · 响应式布局：正常                                                         │
│                                                                             │
│  5. 性能表现                                                                │
│  ─────────────────────────────────────────────────────────────────────────  │
│  · API响应时间：< 100ms                                                     │
│  · 页面加载时间：< 2s                                                       │
│  · 搜索响应时间：< 500ms                                                    │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

#### 2.5.2 测试结论

```
┌─────────────────────────────────────────────────────────────────────────────┐
│                              测试结论                                        │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ╔═══════════════════════════════════════════════════════════════════════╗  │
│  ║                                                                       ║  │
│  ║                        测试结论：通过                                 ║  │
│  ║                                                                       ║  │
│  ╚═══════════════════════════════════════════════════════════════════════╝  │
│                                                                             │
│  经过全面测试验证，南锣鼓巷旅游导览系统满足以下要求：                       │
│                                                                             │
│  ✓ 功能完整性：所有设计功能均已实现并正常工作                               │
│  ✓ 数据准确性：景点信息、路线数据准确无误                                   │
│  ✓ 用户体验：界面美观，操作流畅，响应及时                                   │
│  ✓ 系统稳定性：无崩溃、无异常错误                                           │
│  ✓ 兼容性：支持主流浏览器和微信小程序                                       │
│                                                                             │
│  系统已具备上线运行条件。                                                   │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘
```

---

## 附录

### A. 启动命令速查

```
后端启动：
cd backend
.\venv\Scripts\python.exe manage.py runserver

前端启动：
cd frontend
npm run dev

访问地址：
后端API：http://127.0.0.1:8000/api/
后台管理：http://127.0.0.1:8000/admin/
前端页面：http://127.0.0.1:3000/
```

### B. 测试数据说明

| 数据类型 | 数量 | 说明 |
|----------|------|------|
| 胡同信息 | 1条 | 南锣鼓巷基本信息 |
| 景点(POI) | 10条 | 包含5种类型景点 |
| 推荐路线 | 2条 | 经典文化游、休闲美食游 |
| 路线景点关联 | 8条 | 每条路线4个景点 |

## 项目成员：郭琼鹏 汪凯艳
